/* ========================= */
/* DESIGN TARGET VARIABLES  */
/* ========================= */

:root {
  --design-ratio: calc(16 / 9);

  /* MASTER SCALE (TYPOGRAPHY / RHYTHM) */
  --u: clamp(10px, 2vmin, 28px);

  /* PANEL SCALE (MATCHES --u UNTIL SHRINK IS NEEDED) */
  --panel-u: clamp(8px, 2vmin, 20px);

  --wrapper-margin: calc(2.5 * var(--u));

  --navbar-height: calc(6 * var(--u));
  --navbar-padding-horizontal: calc(12 * var(--u));
  --navbar-inner-padding-horizontal: calc(2.25 * var(--u));

  --title-font-size: calc(4.5 * var(--u));

  /* PANEL DIMENSIONS */
  --select-container-height: calc(28 * var(--panel-u));
  --select-container-width: calc(25 * var(--panel-u));
  --map-container-width: calc(40 * var(--panel-u));
}

/* ========================= */
/* GLOBAL RESET & BASE       */
/* ========================= */

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html,
body {
  height: 100%;
  width: 100%;
  overflow-x: hidden;
}

html {
  background-color: black;
  font-family: "Jomhuria", serif;
}

/* ========================= */
/* OUTER WRAPPER (LETTERBOX) */
/* ========================= */

.page-wrapper {
  margin: var(--wrapper-margin);
  min-height: calc(100vh - (2 * var(--wrapper-margin)));
  background: black;
  border-radius: calc(2.4 * var(--u));
  overflow: hidden;

  display: grid;
  place-items: center;
}

/* ========================= */
/* INNER 16:9 FRAME          */
/* ========================= */

.page-frame {
  background: white;
  border-radius: calc(2.4 * var(--u));
  overflow: hidden;

  width: min(
    100%,
    calc((100vh - (2 * var(--wrapper-margin))) * var(--design-ratio))
  );

  height: min(
    100%,
    calc((100vw - (2 * var(--wrapper-margin))) / var(--design-ratio))
  );

  display: flex;
  flex-direction: column;
  position: relative;
}

/* ========================= */
/* NAVBAR                    */
/* ========================= */

.navbar {
  height: var(--navbar-height);
  position: relative;
}

.navbar-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;

  padding-top: calc(2 * var(--u));
  padding-left: var(--navbar-inner-padding-horizontal);
  padding-right: var(--navbar-inner-padding-horizontal);
}

#navbar-logo {
  padding-top: calc(var(--title-font-size) / 4);
  font-weight: 480;
  font-size: var(--title-font-size);
  letter-spacing: -0.03em;
}

.navbar-left,
.navbar-center,
.navbar-right {
  flex: 1;
  display: flex;
  align-items: center;
}

.navbar-center {
  justify-content: center;
}

.navbar-right {
  justify-content: flex-end;
  gap: calc(1 * var(--u));
}

/* ========================= */
/* PAGE CONTENT              */
/* ========================= */

.page-content {
  padding: var(--wrapper-margin);
  flex: 1;
  overflow: auto;
  position: relative;
}

/* ========================= */
/* NAV LINKS                 */
/* ========================= */

.nav-link {
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  padding: calc(1 * var(--u)) calc(2 * var(--u));
  border-radius: calc(0.75 * var(--u));

  background-color: black;
  color: white;

  font-weight: 400;
  font-size: calc(1.5 * var(--u));

  transition:
    background-color 0.2s ease,
    transform 0.15s ease,
    box-shadow 0.15s ease;
}

/* ========================= */
/* DEMO PANELS (FIXED GAP)   */
/* ========================= */

:root {
  --demo-inset: calc(var(--wrapper-margin) * 2); /* left/right padding from frame */
  --demo-gap: calc(2 * var(--u));                /* consistent gap between panels */
}

.demo-row {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);

  /* consistent left/right inset inside the frame */
  left: var(--demo-inset);
  right: var(--demo-inset);

  display: flex;
  gap: var(--demo-gap);
  align-items: stretch;

  /* NEVER OVERGROW FRAME */
  height: min(var(--select-container-height), 80%);
  max-height: 100%;
}

/* base panel styling */
.demo-panel {
  background-color: #AAAAAA;
  border-radius: calc(2 * var(--u));
  box-shadow: 0 calc(0.75 * var(--u)) calc(2 * var(--u)) rgba(0, 0, 0, 0.15);
  min-height: 0;
}

/* ========================= */
/* UPDATED FLEX BEHAVIOR     */
/* ========================= */

/* Let BOTH panels shrink/grow symmetrically,
   so the outer left/right gaps remain visually even. */
#select-container,
#map-container {
  flex: 1 1 0;   /* symmetric sizing */
  min-width: 0;  /* IMPORTANT: allow flex children to shrink */
}

/* Keep your intended max sizes as caps (not hard "preferred" clamps) */
#select-container {
  max-width: var(--select-container-width);
}

#map-container {
  max-width: var(--map-container-width);
}
